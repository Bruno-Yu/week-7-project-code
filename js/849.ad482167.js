"use strict";(self["webpackChunkweek_7_project"]=self["webpackChunkweek_7_project"]||[]).push([[849],{2853:function(t,d,o){o.r(d),o.d(d,{default:function(){return G}});var s=o(6252),a=o(3577);const l={class:"mt-4"},c=(0,s._)("h2",{class:"my-5 ms-2 fw-bold text-center"},"產品/服務列表",-1),r={class:"card-group"},i={class:"row row-cols-1 row-cols-lg-4 g-2 g-lg-3"},e={class:"card h-100 mb-3",style:{"max-width":"540px"}},n={class:"row g-0"},u={class:"col-4"},p=["src"],h={class:"col-8"},m={class:"card-body"},b={class:"card-title fw-bolder"},_={class:"card-text text-secondary"},g={class:"card-footer bg-light d-flex justify-content-end"},v=["onClick"],w=["onClick"];function y(t,d,o,y,f,k){const C=(0,s.up)("ProductModal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[(0,s.Wm)(C,{id:f.productId,ref:"productModal",onAddCart:k.addToCart},null,8,["id","onAddCart"])]),c,(0,s._)("div",r,[(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.products,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:t.id},[(0,s._)("div",e,[(0,s._)("div",n,[(0,s._)("div",u,[(0,s._)("img",{src:t.imageUrl,class:"img-fluid card-img rounded-start",alt:"..."},null,8,p)]),(0,s._)("div",h,[(0,s._)("div",m,[(0,s._)("h5",b,(0,a.zw)(t.title),1),(0,s._)("p",_,(0,a.zw)(t.description),1)]),(0,s._)("div",g,[(0,s._)("button",{type:"button",class:"btn btn-outline-dark btn-sm me-2",onClick:d=>k.openProductModal(t.id)}," 查看細節 ",8,v),(0,s._)("button",{type:"button",class:"btn btn-dark btn-sm",onClick:d=>k.addToCart(t.id)}," 加入購物車 ",8,w)])])])])])))),128))])])],64)}var f=o(9963);const k={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},C={class:"modal-dialog modal-xl",role:"document"},M={class:"modal-content border-0"},x={class:"modal-header bg-dark text-white"},z={class:"modal-title",id:"exampleModalLabel"},P=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),I={class:"modal-body"},$={class:"row"},L={class:"col-sm-6"},T=["src"],q={class:"col-sm-6"},D=(0,s._)("span",{class:"badge bg-primary rounded-pill"},null,-1),j={class:"h5"},U={class:"h6 text-secondary small"},A={class:"h5"},H={class:"input-group"};function Y(t,d,o,l,c,r){return(0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("div",C,[(0,s._)("div",M,[(0,s._)("div",x,[(0,s._)("h5",z,[(0,s._)("span",null,(0,a.zw)(c.product.title),1)]),P]),(0,s._)("div",I,[(0,s._)("div",$,[(0,s._)("div",L,[(0,s._)("img",{class:"img-fluid",src:c.product.imageUrl,alt:""},null,8,T)]),(0,s._)("div",q,[D,(0,s._)("p",null,"商品描述："+(0,a.zw)(c.product.description),1),(0,s._)("p",null,"商品內容："+(0,a.zw)(c.product.content),1),(0,s._)("div",j,(0,a.zw)(c.product.unit),1),(0,s._)("del",U,"原價 "+(0,a.zw)(c.product.origin_price)+" 元",1),(0,s._)("div",A,"現在只要 "+(0,a.zw)(c.product.price)+" 元",1),(0,s._)("div",null,[(0,s._)("div",H,[(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":d[0]||(d[0]=t=>c.qty=t)},null,512),[[f.nr,c.qty]]),(0,s._)("button",{type:"button",class:"btn btn-dark",onClick:d[1]||(d[1]=(...t)=>r.addToCart&&r.addToCart(...t))},"加入購物車")])])])])])])])],512)}var Z=o(7424),K=o.n(Z),N={props:["id"],data(){return{bsModal:{},product:{},isLoadingItem:"",qty:1}},watch:{id(){this.getProduct()}},methods:{openModal(){this.bsModal.show()},closeModal(){this.bsModal.hide()},getProduct(){this.$http(`https://vue3-course-api.hexschool.io/v2//api/brunoyu2022/product/${this.id}`).then((t=>{this.product=t.data.product}))},addToCart(){this.$emit("add-cart",this.product.id,this.qty)}},mounted(){this.bsModal=new(K())(this.$refs.modal)}},V=o(3744);const W=(0,V.Z)(N,[["render",Y]]);var B=W,E={data(){return{products:[],productId:"",addNum:0,isLoadingItem:""}},components:{ProductModal:B},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/brunoyu2022/products/all").then((t=>{this.products=t.data.products}))},openProductModal(t){this.productId=t,this.$refs.productModal.openModal()},addToCart(t,d=1){const o={product_id:t,qty:d};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/brunoyu2022/cart",{data:o}).then((t=>{console.log(t),this.isLoadingItem=""}))}},mounted(){this.getProducts()}};const F=(0,V.Z)(E,[["render",y]]);var G=F}}]);
//# sourceMappingURL=849.ad482167.js.map